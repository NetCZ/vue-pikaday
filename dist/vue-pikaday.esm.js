import moment from"moment";import Pikaday from"pikaday";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var n="object"==typeof e&&e&&e.Object===Object&&e,i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")(),r=o.Symbol,u=Object.prototype,s=u.hasOwnProperty,a=u.toString,f=r?r.toStringTag:void 0;var c=function(t){var e=s.call(t,f),n=t[f];try{t[f]=void 0;var i=!0}catch(t){}var o=a.call(t);return i&&(e?t[f]=n:delete t[f]),o},l=Object.prototype.toString;var p=function(t){return l.call(t)},d="[object Null]",h="[object Undefined]",v=r?r.toStringTag:void 0;var y=function(t){return null==t?void 0===t?h:d:v&&v in Object(t)?c(t):p(t)};var m=function(t){return null!=t&&"object"==typeof t},b="[object Date]";var g=function(t){return m(t)&&y(t)==b};var O,w=function(t){return function(e){return t(e)}},j=(function(t,e){var i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,r=o&&o.exports===i&&n.process,u=function(){try{var t=o&&o.require&&o.require("util").types;return t||r&&r.binding&&r.binding("util")}catch(t){}}();t.exports=u}(O={exports:{}},O.exports),O.exports),x=j&&j.isDate,S=x?w(x):g;var T={name:"vue-pikaday",inheritAttrs:!1,props:{value:{validator:function(e){var n=[void 0,null];if(function(t){return t instanceof Event||t&&t.constructor&&"Event"===t.constructor.name}(e))return!0;if(S(e))return!0;for(var i=0,o=n;i<o.length;i++){var r=o[i];if(e===r||t(e)===r)return!0}return!1},required:!0},options:{required:!1,default:function(){return{}}},autoDefault:{type:Boolean,required:!1,default:!1}},data:function(){return{visible:!1,elAttrs:{type:"text"},defaultOptions:{format:"D MMM YYYY"},mergedOptions:{}}},computed:{elementAttributes:function(){return Object.assign({},this.$attrs,this.elAttrs)}},render:function(t){return t("input",{attrs:this.elementAttributes,on:this.$listeners,value:this.inputValue(this.value)},this.$slots.default)},beforeMount:function(){this.mergedOptions=Object.assign({},this.defaultOptions,this.options)},mounted:function(){var t=this;this.create(),this.$watch("value",function(e){S(e)||(e=null),t.visible||t.pikaday.setDate(e,!0),t.change(e)})},beforeDestroy:function(){this.destroy()},methods:{create:function(){var t=this;this.mergedOptions.field=this.$el,this.bindListener("onSelect",function(){return t.onSelect()}),this.bindListener("onOpen",function(){return t.onOpen()}),this.bindListener("onClose",function(){return t.onClose()}),this.pikaday=new Pikaday(this.mergedOptions);var e=this.value;!this.value&&this.autoDefault&&(e=moment().toDate(),this.change(e)),this.pikaday.setDate(e),!1===this.mergedOptions.bound?this.hide():this.visible?this.show():this.hide()},destroy:function(){this.pikaday.destroy()},change:function(t){this.$emit("input",t),this.$emit("input-value",this.inputValue(t))},inputValue:function(t){if(!S(t))return null;var e=moment(t);return e.isValid()?e.format(this.mergedOptions.format):null},onSelect:function(){this.change(this.pikaday.getDate())},onOpen:function(){this.visible=!0},onClose:function(){S(this.value)||(this.pikaday.setDate(null,!0),this.change(null)),this.visible=!1},show:function(){this.pikaday.show()},hide:function(){this.pikaday.hide()},bindListener:function(t,e){var n=this;if(this.mergedOptions[t]){var i=this.mergedOptions[t];this.mergedOptions[t]=function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];i(o),e.apply(n)}}else this.mergedOptions[t]=e}}};var D=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},$=function(){return o.Date.now()},k="[object Symbol]";var A=function(t){return"symbol"==typeof t||m(t)&&y(t)==k},M=NaN,V=/^\s+|\s+$/g,q=/^[-+]0x[0-9a-f]+$/i,C=/^0b[01]+$/i,E=/^0o[0-7]+$/i,L=parseInt;var Y=function(t){if("number"==typeof t)return t;if(A(t))return M;if(D(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=D(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(V,"");var n=C.test(t);return n||E.test(t)?L(t.slice(2),n?2:8):q.test(t)?M:+t},I="Expected a function",N=Math.max,W=Math.min;var B=function(t,e,n){var i,o,r,u,s,a,f=0,c=!1,l=!1,p=!0;if("function"!=typeof t)throw new TypeError(I);function d(e){var n=i,r=o;return i=o=void 0,f=e,u=t.apply(r,n)}function h(t){var n=t-a;return void 0===a||n>=e||n<0||l&&t-f>=r}function v(){var t=$();if(h(t))return y(t);s=setTimeout(v,function(t){var n=e-(t-a);return l?W(n,r-(t-f)):n}(t))}function y(t){return s=void 0,p&&i?d(t):(i=o=void 0,u)}function m(){var t=$(),n=h(t);if(i=arguments,o=this,a=t,n){if(void 0===s)return function(t){return f=t,s=setTimeout(v,e),c?d(t):u}(a);if(l)return clearTimeout(s),s=setTimeout(v,e),d(a)}return void 0===s&&(s=setTimeout(v,e)),u}return e=Y(e)||0,D(n)&&(c=!!n.leading,r=(l="maxWait"in n)?N(Y(n.maxWait)||0,e):r,p="trailing"in n?!!n.trailing:p),m.cancel=function(){void 0!==s&&clearTimeout(s),f=0,i=a=o=s=void 0},m.flush=function(){return void 0===s?u:y($())},m};function F(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e[n]=t,i=i||e,t?i.show():i.hide()}var P={inserted:function(t,e,n){var i=n.componentInstance;i.onOpen=function(){return F(!0,n.context,e.expression,i)},i.onClose=B(function(){return F(!1,n.context,e.expression,i)},100)},update:function(t,e,n){F(e.value,n.componentInstance,e.expression)}},U={install:function(t){t.component(T.name,T),t.directive("p-visible",P)}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(U);export default U;
//# sourceMappingURL=vue-pikaday.esm.js.map
