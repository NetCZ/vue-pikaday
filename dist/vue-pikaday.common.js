"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var moment=_interopDefault(require("moment")),Pikaday=_interopDefault(require("pikaday")),commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var freeGlobal="object"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=_freeGlobal||freeSelf||Function("return this")(),_root=root,Symbol$1=_root.Symbol,_Symbol=Symbol$1,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=_Symbol?_Symbol.toStringTag:void 0;function getRawTag(e){var t=hasOwnProperty.call(e,symToStringTag),n=e[symToStringTag];try{e[symToStringTag]=void 0}catch(e){}var o=nativeObjectToString.call(e);return t?e[symToStringTag]=n:delete e[symToStringTag],o}var _getRawTag=getRawTag,objectProto$1=Object.prototype,nativeObjectToString$1=objectProto$1.toString;function objectToString(e){return nativeObjectToString$1.call(e)}var _objectToString=objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag$1=_Symbol?_Symbol.toStringTag:void 0;function baseGetTag(e){return null==e?void 0===e?undefinedTag:nullTag:symToStringTag$1&&symToStringTag$1 in Object(e)?_getRawTag(e):_objectToString(e)}var _baseGetTag=baseGetTag;function isObjectLike(e){return null!=e&&"object"==typeof e}var isObjectLike_1=isObjectLike,dateTag="[object Date]";function baseIsDate(e){return isObjectLike_1(e)&&_baseGetTag(e)==dateTag}var _baseIsDate=baseIsDate;function baseUnary(e){return function(t){return e(t)}}var _baseUnary=baseUnary,_nodeUtil=createCommonjsModule(function(e,t){var n=t&&!t.nodeType&&t,o=n&&e&&!e.nodeType&&e,i=o&&o.exports===n&&_freeGlobal.process,r=function(){try{var e=o&&o.require&&o.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=r}),nodeIsDate=_nodeUtil&&_nodeUtil.isDate,isDate=nodeIsDate?_baseUnary(nodeIsDate):_baseIsDate,isDate_1=isDate,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VuePikaday={name:"vue-pikaday",inheritAttrs:!1,props:{value:{validator:function(e){var t=[void 0,null];if(isDate_1(e))return!0;var n=!0,o=!1,i=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var s=r.value;if(e===s||(void 0===e?"undefined":_typeof(e))===s)return!0}}catch(e){o=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}return!1},required:!0},options:{required:!1,default:function(){return{}}},autoDefault:{type:Boolean,required:!1,default:!1}},data:function(){return{visible:!1,elAttrs:{type:"text"},defaultOptions:{format:"D MMM YYYY"},mergedOptions:{}}},computed:{elementAttributes:function(){return Object.assign({},this.$attrs,this.elAttrs)}},render:function(e){return e("input",{attrs:this.elementAttributes,on:this.$listeners,value:this.inputValue(this.value)},this.$slots.default)},beforeMount:function(){this.mergedOptions=Object.assign({},this.defaultOptions,this.options)},mounted:function(){this.create()},beforeDestroy:function(){this.destroy()},methods:{create:function(){var e=this;this.mergedOptions.field=this.$el,this.bindListener("onSelect",function(){return e.onSelect()}),this.bindListener("onOpen",function(){return e.onOpen()}),this.bindListener("onClose",function(){return e.onClose()}),this.pikaday=new Pikaday(this.mergedOptions);var t=this.value;!this.value&&this.autoDefault&&(t=moment().toDate(),this.change(t)),this.pikaday.setDate(t),!1===this.mergedOptions.bound?this.hide():this.visible?this.show():this.hide()},destroy:function(){this.pikaday.destroy()},change:function(e){this.$emit("input",e),this.$emit("input-value",this.inputValue(e))},inputValue:function(e){var t=moment(e);return t.isValid()?t.format(this.mergedOptions.format):null},onSelect:function(){this.change(this.pikaday.getDate())},onOpen:function(){this.visible=!0},onClose:function(){this.visible=!1},show:function(){this.pikaday.show()},hide:function(){this.pikaday.hide()},bindListener:function(e,t){var n=this;if(this.mergedOptions[e]){var o=this.mergedOptions[e];this.mergedOptions[e]=function(){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];o(i),t.apply(n)}}else this.mergedOptions[e]=t}}};function isObject(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var isObject_1=isObject,now=function(){return _root.Date.now()},now_1=now,symbolTag="[object Symbol]";function isSymbol(e){return"symbol"==typeof e||isObjectLike_1(e)&&_baseGetTag(e)==symbolTag}var isSymbol_1=isSymbol,NAN=NaN,reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(e){if("number"==typeof e)return e;if(isSymbol_1(e))return NAN;if(isObject_1(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=isObject_1(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(reTrim,"");var n=reIsBinary.test(e);return n||reIsOctal.test(e)?freeParseInt(e.slice(2),n?2:8):reIsBadHex.test(e)?NAN:+e}var toNumber_1=toNumber,FUNC_ERROR_TEXT="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce(e,t,n){var o,i,r,a,s,u,l=0,c=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT);function b(t){var n=o,r=i;return o=i=void 0,l=t,a=e.apply(r,n)}function y(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-l>=r}function m(){var e=now_1();if(y(e))return p(e);s=setTimeout(m,function(e){var n=t-(e-u);return f?nativeMin(n,r-(e-l)):n}(e))}function p(e){return s=void 0,d&&o?b(e):(o=i=void 0,a)}function g(){var e=now_1(),n=y(e);if(o=arguments,i=this,u=e,n){if(void 0===s)return function(e){return l=e,s=setTimeout(m,t),c?b(e):a}(u);if(f)return s=setTimeout(m,t),b(u)}return void 0===s&&(s=setTimeout(m,t)),a}return t=toNumber_1(t)||0,isObject_1(n)&&(c=!!n.leading,r=(f="maxWait"in n)?nativeMax(toNumber_1(n.maxWait)||0,t):r,d="trailing"in n?!!n.trailing:d),g.cancel=function(){void 0!==s&&clearTimeout(s),l=0,o=u=i=s=void 0},g.flush=function(){return void 0===s?a:p(now_1())},g}var debounce_1=debounce;function changeState(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t[n]=e,o=o||t,e?o.show():o.hide()}var VuePikadayVisible={inserted:function(e,t,n){var o=n.componentInstance;o.onOpen=function(){return changeState(!0,n.context,t.expression,o)},o.onClose=debounce_1(function(){return changeState(!1,n.context,t.expression,o)},100)},update:function(e,t,n){changeState(t.value,n.componentInstance,t.expression)}},VuePikadayPlugin={install:function(e){e.component(VuePikaday.name,VuePikaday),e.directive("p-visible",VuePikadayVisible)}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(VuePikadayPlugin),module.exports=VuePikadayPlugin;
//# sourceMappingURL=vue-pikaday.common.js.map
